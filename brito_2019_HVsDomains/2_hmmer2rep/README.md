# Searching for domains

`hmmer2rep.py` is part of the second step of the analysis pipeline. It searches for domain hits on HMMER (`hmmscan`) outputs (domtblout), and convert it into a custom format used in the next step of the pipeline. For further analyses, this script also retrieves the number of protein structures containing such domains on Pfam.

## Getting Started

### Running hmmscan

Before running `hmmer2rep.py`, the user must run `hmmscan` using the output sequences generated by `tORFs.py`. `hmmscan` is a software available is part of `HMMER`, which can be downloaded [here](http://hmmer.org/download.html). `hmmscan` scans for protein domains using aminoacid sequences using a protein profile HMM database. The most up to date HMM profile (Pfam-A.hmm) can be found at the [Pfam webiste](http://bit.ly/2BUXaWV), a large file required for running `hmmscan`. To do so, this software can be run using a command line similar to:

```
hmmscan --domtblout domtblout.txt --acc --cut_ga /path/to/hmm/file/Pfam-A.hmm ./sequences.fasta
```

where `sequences.fasta` is a concatenated file including all the entries generated by `tORFs.py`. Once `hmmscan` finishes running (it may take a long time), it will output as a text file (`domtblout.txt`) all domains found while scanning `sequences.fasta`, file which will in turn be used to finally run `hmmer2rep.py`.

### Running hmmer2rep.py

`hmmer2rep.py` can be executed using a command similar to:

```
python hmmer2rep.py /path/to/input/files/ 'domtblout.txt' 'auxFile'
```

where the `auxFile` is the same tab-delimited auxiliary file used for running `tORFs.py`. `hmmer2rep.py` will filter out unreliable hits in `domtblout.txt`, exporting only those showing E-values ('protein E-values') and c-Evalues ('domain E-values') smaller than or equal to 1e-03.

## Authors

* **Anderson Brito** - [WebPage](https://andersonbrito.github.io/) - andersonfbrito@gmail.com

## License

This project is licensed under the MIT License.

<!---
--->